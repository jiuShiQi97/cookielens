# CookieLens Backend æ–‡ä»¶å¤¹å¯¹æ¯”åˆ†æ

## ğŸ“ æ–‡ä»¶å¤¹ç»“æ„å¯¹æ¯”

### `/backend/` (æ ¹ç›®å½•)
```
backend/
â”œâ”€â”€ __pycache__/
â”œâ”€â”€ API_USAGE.md
â”œâ”€â”€ app.py (116è¡Œ)
â”œâ”€â”€ compliance_analyzer.py
â”œâ”€â”€ COMPLIANCE_USAGE.md
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ lambda_function.py (171è¡Œ)
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ test_compliance.sh
â”œâ”€â”€ vanta_client.py
â””â”€â”€ vanta-credentials.env.example
```

### `/cookielens-extension/backend/` (æ‰©å±•ç›®å½•)
```
cookielens-extension/backend/
â”œâ”€â”€ __pycache__/
â”œâ”€â”€ API_USAGE.md
â”œâ”€â”€ app.py (131è¡Œ) â­
â”œâ”€â”€ compliance_analyzer.py
â”œâ”€â”€ COMPLIANCE_USAGE.md
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ lambda_function.py (187è¡Œ) â­
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ test_compliance.sh
â”œâ”€â”€ vanta_client.py
â”œâ”€â”€ vanta-credentials.env.example
â”œâ”€â”€ start_server.py â­ (æ–°å¢)
â”œâ”€â”€ run.py â­ (æ–°å¢)
â”œâ”€â”€ test_api.py â­ (æ–°å¢)
â”œâ”€â”€ test_response.json â­ (æ–°å¢)
â”œâ”€â”€ response.json â­ (æ–°å¢)
â”œâ”€â”€ lambda-deployment.zip â­ (æ–°å¢)
â”œâ”€â”€ lambda-deployment-with-deps.zip â­ (æ–°å¢)
â””â”€â”€ å¤§é‡PythonåŒ…ä¾èµ–æ–‡ä»¶å¤¹ â­ (æ–°å¢)
    â”œâ”€â”€ boto3/
    â”œâ”€â”€ botocore/
    â”œâ”€â”€ pydantic/
    â”œâ”€â”€ requests/
    â”œâ”€â”€ urllib3/
    â””â”€â”€ ... (å…¶ä»–ä¾èµ–åŒ…)
```

## ğŸ” ä¸»è¦å·®å¼‚åˆ†æ

### 1. **æ–‡ä»¶æ•°é‡å·®å¼‚**
- **æ ¹ç›®å½•backend**: 11ä¸ªæ–‡ä»¶
- **æ‰©å±•ç›®å½•backend**: 11ä¸ªæ ¸å¿ƒæ–‡ä»¶ + é¢å¤–æ–‡ä»¶ + å¤§é‡ä¾èµ–åŒ…

### 2. **æ ¸å¿ƒæ–‡ä»¶å·®å¼‚**

#### `app.py` æ–‡ä»¶å·®å¼‚
- **æ ¹ç›®å½•**: 116è¡Œ
- **æ‰©å±•ç›®å½•**: 131è¡Œ (å¤š15è¡Œ)
- **ä¸»è¦å·®å¼‚**: æ‰©å±•ç›®å½•ç‰ˆæœ¬åŒ…å«æ›´è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºå’Œdatetimeå¯¼å…¥

#### `lambda_function.py` æ–‡ä»¶å·®å¼‚
- **æ ¹ç›®å½•**: 171è¡Œ
- **æ‰©å±•ç›®å½•**: 187è¡Œ (å¤š16è¡Œ)
- **ä¸»è¦å·®å¼‚**: æ‰©å±•ç›®å½•ç‰ˆæœ¬åŒ…å«æ›´è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºï¼Œå¸¦emojiå›¾æ ‡

### 3. **æ–°å¢æ–‡ä»¶ (ä»…åœ¨æ‰©å±•ç›®å½•)**

#### å¯åŠ¨è„šæœ¬
- `start_server.py` - æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
- `run.py` - ç®€åŒ–çš„è¿è¡Œè„šæœ¬

#### æµ‹è¯•æ–‡ä»¶
- `test_api.py` - APIæµ‹è¯•è„šæœ¬
- `test_response.json` - æµ‹è¯•å“åº”æ–‡ä»¶
- `response.json` - å“åº”ç¤ºä¾‹æ–‡ä»¶

#### éƒ¨ç½²æ–‡ä»¶
- `lambda-deployment.zip` - Lambdaéƒ¨ç½²åŒ…
- `lambda-deployment-with-deps.zip` - å¸¦ä¾èµ–çš„Lambdaéƒ¨ç½²åŒ…

### 4. **ä¾èµ–åŒ…å·®å¼‚**

#### æ ¹ç›®å½•backend
- åªæœ‰requirements.txtæ–‡ä»¶
- ä¾èµ–åŒ…é€šè¿‡pipå®‰è£…åˆ°ç³»ç»Ÿç¯å¢ƒ

#### æ‰©å±•ç›®å½•backend
- åŒ…å«å®Œæ•´çš„PythonåŒ…ä¾èµ–æ–‡ä»¶å¤¹
- æ‰€æœ‰ä¾èµ–åŒ…éƒ½æœ¬åœ°åŒ–å­˜å‚¨
- åŒ…å«ä»¥ä¸‹ä¸»è¦åŒ…ï¼š
  - `boto3/` - AWS SDK
  - `botocore/` - AWSæ ¸å¿ƒåº“
  - `pydantic/` - æ•°æ®éªŒè¯
  - `requests/` - HTTPåº“
  - `urllib3/` - HTTPå®¢æˆ·ç«¯
  - `certifi/` - SSLè¯ä¹¦
  - `charset_normalizer/` - å­—ç¬¦ç¼–ç 
  - `dateutil/` - æ—¥æœŸå¤„ç†
  - `idna/` - å›½é™…åŒ–åŸŸå
  - `jmespath/` - JSONæŸ¥è¯¢
  - `s3transfer/` - S3ä¼ è¾“
  - `six.py` - Python 2/3å…¼å®¹
  - `typing_extensions/` - ç±»å‹æç¤ºæ‰©å±•
  - `typing_inspection/` - ç±»å‹æ£€æŸ¥

## ğŸ¯ ä½¿ç”¨å»ºè®®

### æ¨èä½¿ç”¨ `/cookielens-extension/backend/`
**åŸå› **:
1. âœ… **æ›´å®Œæ•´çš„æ—¥å¿—è¾“å‡º** - åŒ…å«emojiå›¾æ ‡å’Œè¯¦ç»†æ­¥éª¤
2. âœ… **åŒ…å«å¯åŠ¨è„šæœ¬** - start_server.pyå’Œrun.py
3. âœ… **åŒ…å«æµ‹è¯•å·¥å…·** - test_api.pyç­‰æµ‹è¯•æ–‡ä»¶
4. âœ… **æœ¬åœ°åŒ–ä¾èµ–** - æ‰€æœ‰ä¾èµ–åŒ…éƒ½åœ¨æœ¬åœ°ï¼Œé¿å…ç¯å¢ƒå†²çª
5. âœ… **éƒ¨ç½²å°±ç»ª** - åŒ…å«Lambdaéƒ¨ç½²åŒ…
6. âœ… **æœ€æ–°æ›´æ–°** - åŒ…å«æˆ‘ä»¬åˆšæ‰åšçš„æ‰€æœ‰æ”¹è¿›

### ä¸æ¨èä½¿ç”¨ `/backend/`
**åŸå› **:
1. âŒ **ç¼ºå°‘è¯¦ç»†æ—¥å¿—** - æ²¡æœ‰emojiå›¾æ ‡å’Œåˆ†æ­¥æ—¥å¿—
2. âŒ **ç¼ºå°‘å¯åŠ¨è„šæœ¬** - éœ€è¦æ‰‹åŠ¨å¯åŠ¨
3. âŒ **ç¼ºå°‘æµ‹è¯•å·¥å…·** - æ²¡æœ‰æµ‹è¯•æ–‡ä»¶
4. âŒ **ä¾èµ–ç®¡ç†** - ä¾èµ–åŒ…éœ€è¦å•ç‹¬å®‰è£…
5. âŒ **ç‰ˆæœ¬è¾ƒæ—§** - ç¼ºå°‘æœ€æ–°çš„æ”¹è¿›

## ğŸš€ å½“å‰çŠ¶æ€

**æ­£åœ¨è¿è¡Œ**: `/cookielens-extension/backend/app.py` âœ…
- æœåŠ¡å™¨è¿è¡Œåœ¨ `http://localhost:8000`
- åŒ…å«æ‰€æœ‰æœ€æ–°æ”¹è¿›
- è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
- å®Œæ•´çš„ä¾èµ–åŒ…

**å»ºè®®**: ç»§ç»­ä½¿ç”¨ `/cookielens-extension/backend/` ç›®å½•ï¼Œè¿™æ˜¯æœ€æ–°æœ€å®Œæ•´çš„ç‰ˆæœ¬ã€‚
